# Markitch

This twitch bot records messages in an sql database as markov chains

It can then generate random word-sentences by mixing up previously recorded chat messages

```
!random
Mike potatos chips
!random
Player 1 has won 4 matches this set.
!random
ez dodge
!random
7 barracks is too good
```

## Requirements
* Python 3.7
* Mysql

## Installation and setup
1. Clone the repository
2. Install python dependencies

	`pip3 install -r requirements.txt`
3. Create log and pid dirrectories

	`sudo mkdir /var/log/markitch`
	
	`sudo chown YOUR_USER /var/log/markitch`
	
	`mkdir -p ~/.run/markitch`
4. Create a mysql database
5. Rename the config file

	`mv config.py.example config.py`
6. Edit `config.py` with your configuration

	`twitch_oauth` is a token that can be generated by the bot account [here](https://twitchapps.com/tmi/) please note that only the part after `oauth:` is required
	
	`twitch_channel_bots` is a list  of users from which to NOT record messages from
7. Run `python3 setup.py` to create the mysql table

## Usage
`python3 markitch_daemon.py start` to start the daemon

`python3 markitch_daemon.py stop` to stop the daemon

If you suspect something is not working you can check the logs in `/var/log/markitch/`

You can generate a random senetence in the terminal with `python3 gen.py` or directly in the twitch chat with `!random`
